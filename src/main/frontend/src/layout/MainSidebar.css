/* FILE: src/main/frontend/src/layout/MainSidebar.css */
/* 사이드바 컨테이너 */
.lnb {
  width: 260px;
  height: 100vh;
  background-color: var(--tf-sidebar-bg, var(--tf-surface));
  border-right: 1px solid var(--tf-border);
  
  display: flex;
  flex-direction: column; /* 세로 배치 */
  
  /* 중요: 사이드바 자체에는 스크롤이 생기지 않도록 함 */
  overflow: hidden; 
  
  flex-shrink: 0;
  z-index: 50;
  position: sticky;
  top: 0;
  transition: width 0.3s ease, background-color 0.3s ease;
}

/* 접힌 상태 */
.lnb.collapsed {
  width: 72px;
}

/* =========================================
   1. Brand Area (고정 영역)
   ========================================= */
.lnb__brand {
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  border-bottom: 1px solid var(--tf-border);
  
  /* 중요: 화면이 작아져도 이 영역은 줄어들지 않음 */
  flex-shrink: 0; 
}

.lnb__logo-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  color: var(--tf-primary);
  overflow: hidden; /* 텍스트 넘침 방지 */
}

.lnb__logo-text {
  font-size: 20px;
  font-weight: 800;
  letter-spacing: -0.5px;
  white-space: nowrap;
  color: var(--tf-text);
}

.lnb__toggle-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 6px;
  border-radius: 6px;
  color: var(--tf-text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}
.lnb__toggle-btn:hover {
  background-color: var(--tf-surface-hover, #f1f5f9);
  color: var(--tf-text);
}

/* =========================================
   2. J/P Mode Switcher (고정 영역)
   ========================================= */
.lnb__mode-switch {
  /* 마진을 주되, 레이아웃 깨짐 방지를 위해 width 계산 */
  margin: 16px 12px 8px 12px;
  padding: 8px 12px;
  background-color: var(--tf-surface-hover, #f8fafc); 
  border: 1px solid var(--tf-border);
  border-radius: 12px;
  
  display: flex;
  justify-content: space-between;
  align-items: center;
  
  cursor: pointer;
  user-select: none;
  transition: all 0.2s;

  /* 중요: 스크롤 시에도 이 부분은 고정 */
  flex-shrink: 0; 
}

.lnb__mode-switch:hover {
  border-color: var(--tf-primary);
}

.lnb__mode-labels {
  font-size: 13px;
  font-weight: 700;
  color: var(--tf-text-muted);
  display: flex;
  align-items: center;
  white-space: nowrap; /* 줄바꿈 방지 */
}
.lnb__mode-labels .active {
  color: var(--tf-text);
}
.lnb__mode-labels .divider {
  margin: 0 6px;
  opacity: 0.3;
}

/* =========================================
   3. Scroll Area (Menu) - 여기가 스크롤 되는 곳
   ========================================= */
.lnb__scroll-area {
  flex: 1; /* 남은 공간을 모두 차지 */
  
  /* 중요: 내부 내용이 많으면 여기만 스크롤 생김 */
  overflow-y: auto; 
  overflow-x: hidden; 
  
  /* Flexbox 버그 방지 (내용이 넘쳐도 부모 높이 준수) */
  min-height: 0; 
  
  padding: 12px 0;
  margin-bottom: 20px;
}

/* 스크롤바 스타일링 (크롬/사파리 등) */
.lnb__scroll-area::-webkit-scrollbar {
  width: 4px;
}
.lnb__scroll-area::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 4px;
}
/* 마우스 올렸을 때만 스크롤바 보이기 (선택사항) */
.lnb__scroll-area:hover::-webkit-scrollbar-thumb {
  background-color: var(--tf-border);
}

.lnb__section {
  margin-bottom: 24px;
  padding: 0 12px;
}

.lnb__title {
  padding: 0 12px;
  margin-bottom: 8px;
  font-size: 11px;
  font-weight: 800;
  color: var(--tf-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Menu Item */
.lnb__item {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  margin-bottom: 2px;
  border-radius: 10px;
  color: var(--tf-text-muted);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
  white-space: nowrap;
  overflow: hidden;
}

.lnb__item:hover {
  background-color: var(--tf-surface-hover, #f1f5f9);
  color: var(--tf-text);
}

.lnb__item.is-active {
  background-color: var(--tf-primary-soft);
  color: var(--tf-primary);
  font-weight: 700;
}

.lnb__icon {
  flex-shrink: 0;
  margin-right: 12px;
}

/* =========================================
   Collapsed State Specifics
   ========================================= */
.lnb.collapsed .lnb__brand {
  padding: 0;
  justify-content: center;
}
.lnb.collapsed .lnb__logo-text {
  display: none;
}
.lnb.collapsed .lnb__toggle-btn {
  display: none;
}

.lnb.collapsed .lnb__item {
  justify-content: center;
  padding: 12px;
}
.lnb.collapsed .lnb__icon {
  margin-right: 0;
}
.lnb.collapsed .lnb__text {
  display: none;
}
.lnb.collapsed .lnb__title {
  display: none;
}

/* =========================================
   4. Footer (고정 영역)
   ========================================= */
.lnb__footer {
  padding: 16px 12px;
  border-top: 1px solid var(--tf-border);
  background-color: var(--tf-sidebar-bg, var(--tf-surface));
  
  /* 바닥에 고정 */
  flex-shrink: 0; 
}